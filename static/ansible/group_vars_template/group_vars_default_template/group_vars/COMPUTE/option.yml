---
group_name: compute_password

# Cấu hình port cho các service trong Openstack
services_port: 
  keystone: 5000
  glance_api: 9292
  glance_registry: 9191
  nova_api: 8774
  nova_placement_api: 8778
  nova_metadata: 8775
  nova_novncproxy: 6080
  neutron_server: 9696
  horizon: 80
  cinder_api: 8776
  masakari_api: 15868

transport_url: rabbit://{% for node in groups['CONTROLLER'] %}openstack:{{RB_OPENSTACK}}@{{node}}:5672{% if not loop.last %},{% endif  %}{% endfor %}
memcached_servers: "{% for node in groups['CONTROLLER'] %}{{node}}:11211{% if not loop.last %},{% endif  %}{% endfor %}"

# Cấu hình đặc biệt cho nova-compute
use_vcpu_pin_set: true
cpu_pin: true

rbd_store_ceph_conf: /etc/ceph/ceph.conf
nova_backend_ceph: false
resume_guests_state_on_host_boot : true
osapi_compute_unique_server_name_scope: false
nova_compute_logging_debug: false

vcpu_pin_sets:
  compute01epc: 3-7,19-23,10-15,26-31
  compute02epc: 3-7,19-23,10-15,26-31
  compute03epc: 3-9,23-29,13-19,33-39
  compute04epc: 3-9,23-29,13-19,33-39
  compute05epc: 3-17,39-53,21-35,57-71
  compute06epc: 3-17,39-53,21-35,57-71
  compute07epc: 3-17,39-53,21-35,57-71
  compute08epc: 3-17,39-53,21-35,57-71
  compute09epc: 3-17,39-53,21-35,57-71
  compute10epc: 3-17,39-53,21-35,57-71
  compute11epc: 3-17,39-53,21-35,57-71
  compute12epc: 3-17,39-53,21-35,57-71
  compute13epc: 3-17,39-53,21-35,57-71
  compute14epc: 3-17,39-53,21-35,57-71



sriov_config:
  pci_passthrough_whitelist:
    compute01epc: '[]'
    compute02epc: '[]'
    compute03epc: '[{ "devname": "ens2f0", "physical_network": "physnet2"}]'
    compute04epc: '[]'
    compute05epc: '[{ "devname": "ens2f0", "physical_network": "physnet2"} , { "devname": "ens1f0", "physical_network": "physnet1"}]'
    compute06epc: '[{ "devname": "ens2f0", "physical_network": "physnet2"} , { "devname": "ens1f0", "physical_network": "physnet1"}]'
    compute07epc: '[{ "devname": "ens2f0", "physical_network": "physnet2"} , { "devname": "ens1f0", "physical_network": "physnet1"}]'
    compute08epc: '[{ "devname": "ens2f0", "physical_network": "physnet2"} , { "devname": "ens1f0", "physical_network": "physnet1"}]'
    compute09epc: '[{ "devname": "ens2f0", "physical_network": "physnet2"} , { "devname": "ens1f0", "physical_network": "physnet1"}]'
    compute10epc: '[{ "devname": "ens2f0", "physical_network": "physnet2"} , { "devname": "ens1f0", "physical_network": "physnet1"}]'
    compute11epc: '[{ "devname": "ens2f0", "physical_network": "physnet2"} , { "devname": "ens1f0", "physical_network": "physnet1"}]'
    compute12epc: '[{ "devname": "ens2f0", "physical_network": "physnet2"} ]'
    compute13epc: '[{ "devname": "ens2f0", "physical_network": "physnet2"} ]'
    compute14epc: '[]'
  physical_device_mappings:
    compute01epc: ''
    compute02epc: ''
    compute03epc: physnet2:ens2f0
    compute04epc: ''
    compute05epc: physnet2:ens2f0, physnet1:ens1f0
    compute06epc: physnet2:ens2f0, physnet1:ens1f0
    compute07epc: physnet2:ens2f0, physnet1:ens1f0
    compute08epc: physnet2:ens2f0, physnet1:ens1f0
    compute09epc: physnet2:ens2f0, physnet1:ens1f0
    compute10epc: physnet2:ens2f0, physnet1:ens1f0
    compute11epc: physnet2:ens2f0, physnet1:ens1f0
    compute12epc: physnet2:ens2f0
    compute13epc: physnet2:ens2f0
    compute14epc: ''